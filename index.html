<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>College Event Management</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header>
    <nav class="nav" aria-label="Main navigation">
      <!-- Brand is a link that navigates to home -->
      <a href="#home" class="brand" data-nav="#home">College Events</a>

      <div class="tabs" role="tablist">
        <a href="#home" class="tab" data-tab="home" role="tab" aria-selected="true" aria-current="page">Home</a>
        <a href="#events" class="tab" data-tab="events" role="tab">Events</a>
        <a href="#host" class="tab" data-tab="host" role="tab">Host</a>
        <a href="#manage" class="tab" data-tab="manage" role="tab">Manage</a>
        <a href="#clubs" class="tab" data-tab="clubs" role="tab">Clubs</a>
      </div>
    </nav>
  </header>

  <main>
    <section id="home">
      <h1 class="text-balance">College Event Management</h1>
      <p class="lead">Host and manage events by students, clubs, and faculty. Handle registrations, attendance, and simple paid tickets.</p>

      <div class="grid cols-4">
        <div class="card">
          <h3>Browse Events</h3>
          <div class="muted">See upcoming events and register</div>
          <div class="spacious">
            <button class="btn block" data-nav="#events">View Events</button>
          </div>
        </div>

        <div class="card">
          <h3>Host an Event</h3>
          <div class="muted">Students, clubs, or faculty</div>
          <div class="spacious">
            <button class="btn secondary block" data-nav="#host">Create Event</button>
          </div>
        </div>

        <div class="card">
          <h3>Manage Attendance</h3>
          <div class="muted">Check-in attendees with your PIN</div>
          <div class="spacious">
            <button class="btn ghost block" data-nav="#manage">Open Manager</button>
          </div>
        </div>

        <div class="card">
          <h3>Student Clubs</h3>
          <div class="muted">Browse and add clubs</div>
          <div class="spacious">
            <button class="btn ghost block" data-nav="#clubs">Clubs Directory</button>
          </div>
        </div>
      </div>
    </section>

    <section id="events" hidden>
      <div class="between" style="margin-bottom:12px;">
        <div>
          <h2>Events</h2>
          <div class="muted">Search and register for upcoming events.</div>
        </div>
        <div class="right" style="flex:1; justify-content:flex-end;">
          <div class="search" style="max-width:520px; width:100%;">
            <label for="eventSearch" class="sr-only">Search events</label>
            <input id="eventSearch" class="input" type="search" placeholder="Search events, host, club..." />
            <button class="btn ghost" data-nav="#host">Host Event</button>
          </div>
        </div>
      </div>

      <div id="eventsList" class="list">
         Rendered dynamically 
      </div>
    </section>

    <section id="host" hidden>
      <div class="card">
        <h2>Host an Event</h2>
        <div class="muted" style="margin-bottom:12px;">Create events as a student, a club, or faculty.</div>

        <form id="hostForm" novalidate>
          <div class="form-row">
            <label for="title">Title</label>
            <input class="input" id="title" name="title" required />
          </div>

          <div class="form-row">
            <label for="description">Description</label>
            <textarea class="textarea" id="description" name="description" required></textarea>
          </div>

          <div class="form-row cols-3">
            <div>
              <label for="date">Date</label>
              <input class="input" id="date" type="date" name="date" required />
            </div>
            <div>
              <label for="time">Time</label>
              <input class="input" id="time" type="time" name="time" required />
            </div>
            <div>
              <label for="location">Location</label>
              <input class="input" id="location" name="location" required />
            </div>
          </div>

          <div class="form-row cols-2">
            <div>
              <label for="capacity">Capacity (optional)</label>
              <input class="input" id="capacity" name="capacity" type="number" min="1" placeholder="e.g. 100" />
            </div>
            <div>
              <label for="hostType">Host Type</label>
              <select class="select" id="hostType" name="hostType">
                <option>Student</option>
                <option>Club</option>
                <option>Faculty</option>
              </select>
            </div>
          </div>

          <div class="form-row cols-2">
            <div>
              <label for="hostName">Host Name</label>
              <input class="input" id="hostName" name="hostName" placeholder="Your name or club" required />
            </div>
            <div>
              <label for="price">Price (cents)</label>
              <input class="input" id="price" name="price" type="number" min="0" placeholder="e.g. 500 = $5.00" disabled />
              <div class="hint">Enable with “Paid event”.</div>
            </div>
          </div>

          <div class="form-row cols-2" style="align-items:center;">
            <div class="between">
              <label for="paid">Paid event</label>
              <input id="paid" type="checkbox" />
            </div>
            <div class="between">
              <label for="image">Event Image (optional)</label>
              <input id="image" type="file" accept="image/*" />
            </div>
          </div>

          <div id="imagePreview" class="hint" aria-live="polite"></div>

          <div class="form-row">
            <button class="btn primary" type="submit">Create Event</button>
          </div>

          <div id="hostResult" class="hint" aria-live="polite"></div>
        </form>
      </div>
    </section>

    <section id="manage" hidden>
      <div class="card">
        <h2>Attendance Manager</h2>
        <div class="muted">Unlock access with your Event ID and PIN.</div>

        <form id="unlockForm" class="form-row cols-3" style="margin-top:12px;">
          <div>
            <label for="unlockEventId">Event ID</label>
            <input id="unlockEventId" class="input" required />
          </div>
          <div>
            <label for="unlockPin">PIN</label>
            <input id="unlockPin" class="input" required />
          </div>
          <div style="align-self:end;">
            <button class="btn primary" type="submit">Unlock</button>
          </div>
        </form>

        <div id="managerPanel" hidden>
          <hr style="border:none; border-top:1px solid var(--border); margin:16px 0;" />
          <div id="managerHeader" class="between"></div>
          <div class="form-row cols-2" style="margin-top:12px;">
            <div class="card">
              <h3>Add Attendee</h3>
              <form id="attendeeForm" class="form-row">
                <div>
                  <label for="attendeeName">Name</label>
                  <input id="attendeeName" class="input" placeholder="Jane Student" required />
                </div>
                <button class="btn success" type="submit">Check In</button>
              </form>
              <div class="hint">Checked-in count updates instantly.</div>
            </div>

            <div class="card">
              <h3>Attendees</h3>
              <ul id="attendeesList" class="list" aria-live="polite"></ul>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="clubs" hidden>
      <div class="grid cols-2">
        <div class="card">
          <h2>Clubs</h2>
          <div class="muted">Browse existing clubs.</div>
          <div id="clubsList" class="list" style="margin-top:12px;"></div>
        </div>

        <div class="card">
          <h2>Add a Club</h2>
          <div class="muted">Make it available for hosting</div>
          <form id="clubForm" class="form-row" style="margin-top:12px;">
            <div>
              <label for="clubName">Club Name</label>
              <input id="clubName" class="input" required />
            </div>
            <div>
              <label for="clubDesc">Description</label>
              <textarea id="clubDesc" class="textarea" required></textarea>
            </div>

            <div>
              <label for="clubLogo">Club Logo (optional)</label>
              <input id="clubLogo" class="input" type="file" accept="image/*" />
              <div id="clubLogoPreview" class="hint" aria-live="polite"></div>
            </div>

            <button class="btn primary" type="submit">Add Club</button>
          </form>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer (visible on home only) -->
  <footer id="footer" hidden class="site-footer" aria-label="Site footer">
    <div class="footer-left">
      <div style="font-weight:700">College Events</div>
      <div class="muted" style="font-size:13px;">© <span id="footerYear"></span> College Events</div>
    </div>

    <div class="footer-right">
      <nav class="social-links" aria-label="Social links">
        <!-- Instagram -->
        <a class="social-link" href="https://www.instagram.com" target="_blank" rel="noopener noreferrer" aria-label="Instagram">
          <svg class="social-icon" viewBox="0 0 24 24" fill="none" aria-hidden="true"><rect x="3" y="3" width="18" height="18" rx="5" stroke="currentColor" stroke-width="1.2"/><circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="1.2"/><circle cx="17.5" cy="6.5" r="0.6" fill="currentColor"/></svg>
          <span class="sr-only">Instagram</span>
        </a>

        <!-- Facebook -->
        <a class="social-link" href="https://www.facebook.com" target="_blank" rel="noopener noreferrer" aria-label="Facebook">
          <svg class="social-icon" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M15 8h2.5V5.5H15c-1.1 0-2 .9-2 2V10H11v2h2v6h2v-6h2.5l.5-2H15V7.5C15 7.22 15.22 7 15.5 7H18V5h-2.5C14.01 5 13 6.01 13 7.5V8z" stroke="currentColor" stroke-width="0" fill="currentColor"/></svg>
          <span class="sr-only">Facebook</span>
        </a>

        <!-- Twitter -->
        <a class="social-link" href="https://twitter.com" target="_blank" rel="noopener noreferrer" aria-label="Twitter">
          <svg class="social-icon" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M20 7.5c-.6.3-1.2.5-1.9.6.7-.4 1.2-1 1.4-1.8-.6.3-1.4.6-2.1.7C16.9 6.2 16 6 15.2 6c-1.3 0-2.3 1-2.3 2.3 0 .2 0 .4.1.6C10.8 8.8 8.2 7.4 6.6 5.1c-.3.5-.5 1-.5 1.6 0 1.1.6 2 1.5 2.6-.5 0-1-.1-1.4-.4v.1c0 1.3.9 2.4 2.1 2.6-.3.1-.6.1-.9.1-.2 0-.4 0-.6-.1.4 1.3 1.6 2.3 3 2.3-1.1.9-2.5 1.4-4 1.4-.3 0-.7 0-1-.1C6.9 19 8.6 19.5 10.4 19.5c6.2 0 9.5-5.1 9.5-9.5v-.4c.7-.5 1.2-1.2 1.6-1.9-.6.3-1.3.6-2 .7z" fill="currentColor"/></svg>
          <span class="sr-only">Twitter</span>
        </a>

        <!-- CBIT Official -->
        <a class="social-link" href="https://www.cbit.ac.in" target="_blank" rel="noopener noreferrer" aria-label="CBIT official site">
          <svg class="social-icon" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M12 3a9 9 0 100 18 9 9 0 000-18zm1 12.5V18h-2v-2.5H8.5v-1.5H11V10h2v4h2.5v1.5H13z" fill="currentColor"/></svg>
          <span class="sr-only">CBIT official</span>
        </a>
      </nav>
    </div>
  </footer>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>
  <script src="index.js"></script>
  <script src="events.js"></script>
  <script src="host.js"></script>
  <script src="manage.js"></script>
  <script src="clubs.js"></script>

</body>
</html>
